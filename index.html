<!doctype html>
<html lang="en">
<head>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <title>My Weather App</title>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark  bg-dark text-white">
    <a class="navbar-brand" href="#">Weather App</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Cities
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <button class="dropdown-item" type="button" onclick="searchWeather('Karachi')">Karachi</button>
<button class="dropdown-item" type="button" onclick="searchWeather('Mumbai')">Mumbai</button>
<div class="dropdown-divider"></div>
<button class="dropdown-item" type="button" onclick="searchWeather('Dhaka')">Dhaka</button>

          </div>
          <li class="nav-item">
            <a class="nav-link" href="about.html">About</a>
          </li>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="contact.html">Contact</a>
        </li>
      </ul>
      <div class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" id="city-input">
        <button class="btn btn-outline-success my-2 my-sm-0" type="button" id="search-btn">Search</button>
      </div>      
    </div>
  </nav>
  <div class="container">
    <h2 class="my-4 text-center" id="weather-city">Weather Forcast<span id="searched-city"></span></h2>
    <div class="row">
        <div class="col-lg-4">
          <div class="card mb-4" id="basic">
            <div class="card-header bg-primary text-white">
              <h3 class="text-center">Temperatures</h3>
            </div>
            <div class="card-body">
              <h2 class="text-center"><span class="font-weight-bold" id="temperature"></span></h2>
              <ul class="list-unstyled text-center font-weight-bold">
                <li>Max Temperature: <span id="max-temperature"></span></li>
                <li>Min Temperature: <span id="min-temperature"></span></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="card mb-4">
            <div class="card-header bg-success text-white">
              <h3 class="text-center">Humidity Info</h3>
            </div>
            <div class="card-body">
              <h2 class="text-center"><span id="humidity"></span></h2>
              <ul class="list-unstyled text-center font-weight-bold">
                <li>Cloud Pct: <span id="cloud-pct"></span></li>
                <li>Humidity: <span id="humidity-value"></span></li>
                <li>Feels Like: <span id="feels-like"></span></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="card mb-4" id="b">
            <div class="card-header bg-info text-white">
              <h3 class="text-center">Wind Info</h3>
            </div>
            <div class="card-body">
              <h2 class="text-center"><span id="wind-speed"></span></h2>
              <ul class="list-unstyled text-center font-weight-bold">
                <li>Wind Degrees: <span id="wind-degrees"></span></li>
                <li>Sunrise Time: <span id="sunrise"></span></li>
                <li>Sunset Time: <span id="sunset"></span></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      
    <div class="row">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-header bg-dark text-white">
            <h3 class="text-center">WEATHER OF CITIES</h3>
          </div>
          <div class="card-body">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>Cities</th>
                  <th>Temperature</th>
                  <th>Feels Like</th>
                  <th>Humidity</th>
                  <th>Wind Speed</th>
                  <th>Condition</th>
                </tr>
              </thead>
              <tbody>
                <tr id="shanghai-row">
                  <td id="shanghaii">Shanghai</td>
                  <td id="shanghai-temp">&deg;C</td>
                  <td id="shanghai-feels"></td>
                  <td id="shanghai-humid"></td>
                  <td id="shanghai-wind"></td>
                  <td id="shanghai-cond"></td>
                </tr>
                <tr id="boston-row">
                    <td>Boston</td>
                    <td id="boston-temp"></td>
                    <td id="boston-feels"></td>
                    <td id="boston-humid"></td>
                    <td id="boston-wind"></td>
                    <td id="boston-cond"></td>
                  </tr>
                  <tr id="paris-row">
                    <td>Paris</td>
                    <td id="paris-temp"></td>
                    <td id="paris-feels"></td>
                    <td id="paris-humid"></td>
                    <td id="paris-wind"></td>
                    <td id="paris-cond"></td>
                  </tr>
                  
                <tr id="karachi-row">
                    <td>Karachi</td>
                    <td id="karachi-temp"></td>
                    <td id="karachi-feels"></td>
                    <td id="karachi-humid"></td>
                    <td id="karachi-wind"></td>
                    <td id="karachi-cond"></td>
                  </tr>
                  
                <tr id="delhi-row">
                    <td>Delhi</td>
                    <td id="delhi-temp"></td>
                    <td id="delhi-feels"></td>
                    <td id="delhi-humid"></td>
                    <td id="delhi-wind"></td>
                    <td id="delhi-cond"></td>
                  </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"></script>
  <script src="script.js"></script>
  <script>
const cities = [
  { name: 'Shanghai', rowId: 'shanghai-row', tempId: 'shanghai-temp', feelsId: 'shanghai-feels', humidId: 'shanghai-humid', windId: 'shanghai-wind', condId: 'shanghai-cond' },
  { name: 'Boston', rowId: 'boston-row', tempId: 'boston-temp', feelsId: 'boston-feels', humidId: 'boston-humid', windId: 'boston-wind', condId: 'boston-cond' },
  { name: 'Paris', rowId: 'paris-row', tempId: 'paris-temp', feelsId: 'paris-feels', humidId: 'paris-humid', windId: 'paris-wind', condId: 'paris-cond' },
  { name: 'Karachi', rowId: 'karachi-row', tempId: 'karachi-temp', feelsId: 'karachi-feels', humidId: 'karachi-humid', windId: 'karachi-wind', condId: 'karachi-cond' },
  { name: 'Delhi', rowId: 'delhi-row', tempId: 'delhi-temp', feelsId: 'delhi-feels', humidId: 'delhi-humid', windId: 'delhi-wind', condId: 'delhi-cond' }
];

const apiKey = 'f8a7cf4e052a8672bb9cbc617057dff7';

async function fetchWeatherData(city) {
  const apiUrl = `https://api.openweathermap.org/data/2.5/weather?units=metric&q=${city.name}&appid=${apiKey}`;
  const response = await fetch(apiUrl);
  const data = await response.json();

  // Update the table row with the fetched weather data
  const row = document.getElementById(city.rowId);
  row.querySelector('#' + city.tempId).textContent = `${data.main.temp} \u00B0C`;
  row.querySelector('#' + city.feelsId).textContent = `${data.main.feels_like} \u00B0C`;
  row.querySelector('#' + city.humidId).textContent = `${data.main.humidity} %`;
  row.querySelector('#' + city.windId).textContent = `${data.wind.speed} Km/hour`;
  row.querySelector('#' + city.condId).textContent = data.weather[0].description;
}

async function fetchAllWeatherData() {
  for (const city of cities) {
    await fetchWeatherData(city);
  }
}

function searchWeather(cityName) {
  const city = cities.find((city) => city.name.toLowerCase() === cityName.toLowerCase());
  if (city) {
    fetchWeatherData(city);
  } else {
    alert('City not found. Please try again.');
  }
}

document.getElementById('search-btn').addEventListener('click', function(event) {
  event.preventDefault();
  const cityInput = document.getElementById('city-input');
  const cityName = cityInput.value.trim();
  if (cityName !== '') {
    searchWeather(cityName);
  }
});


fetchAllWeatherData();

  </script>
  <script>
  // Update the weather data for Islamabad
  async function updateWeatherForIslamabad() {
    const city = { name: 'Islamabad', rowId: '', tempId: 'temperature', feelsId: 'feels-like', humidId: 'humidity-value', windId: 'wind-speed', condId: '' };
    await fetchWeatherData(city);
  }

  updateWeatherForIslamabad();
</script>

</body>
</html>
